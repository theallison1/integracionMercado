# =============================================
# CREDENCIALES MERCADO PAGO
# =============================================

# Access Token para operaciones de pago
mercado_pago_sample_access_token=APP_USR-7098039000124588-022718-7d1294fc7dedeb8706f67a0f69fb50fb-193104520
# Public Key para el frontend
mercado_pago_sample_public_key=APP_USR-c90816a8-38cd-4720-9f60-226dae2b7b4d



# Credenciales OAuth (Client Credentials)
mercado_pago.client_id=7098039000124588
mercado_pago.client_secret=kD055XZCeKYii8WCZw2HPaO7TaRmdhJF
mercado_pago.redirect_uri=https://integracionmercado.onrender.com/oauth/callback
# =============================================
# URL DE PRODUCCIÓN
# =============================================
app.base.url=https://integracionmercado.onrender.com

# =============================================
# CONFIGURACIÓN DEL SERVER
# =============================================
server.error.whitelabel.enabled=false
server.servlet.register-default-servlet=true
server.port=8080

# =============================================
# CONFIGURACIÓN DE ACTUATOR
# =============================================
management.endpoints.web.exposure.include=*
management.endpoints.web.base-path=/actuator

# =============================================
# CONFIGURACIÓN DE SPRING MVC
# =============================================
spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER

# =============================================
# MEJORA OBLIGATORIA: CONFIGURACIÓN DE LOGS
# =============================================

# Logs detallados para Mercado Pago
logging.level.com.mercadopago.sample.service.MercadoPagoStoreService=DEBUG
logging.level.com.mercadopago.sample.service.CardPaymentService=DEBUG
logging.level.com.mercadopago.sample.service.RefundService=DEBUG
logging.level.com.mercadopago.sample.service.EnhancedPaymentService=DEBUG
logging.level.com.mercadopago=DEBUG

# Logs de transacciones (OBLIGATORIO)
logging.file.name=logs/mercadopago-integration.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n

# Logs para debugging de API calls
logging.level.org.springframework.web.client.RestTemplate=DEBUG
logging.level.org.apache.http=DEBUG

# Logs de la aplicación
logging.level.com.mercadopago.sample=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=WARN

# =============================================
# CONFIGURACIÓN DE TRANSACCIONES Y TIMEOUTS
# =============================================

# Timeout para transacciones pendientes (30 minutos)
transaction.timeout.minutes=30

# Máximo de intentos de pago
max.payment.attempts=3

# Configuración de reintentos para API calls
api.retry.max-attempts=3
api.retry.delay-ms=1000

# =============================================
# CONFIGURACIÓN MAILSENDER API (MAILERSEND)
# =============================================
mailsender.api.key=mlsn.cd91478421fe4bc975ca0e41570c3bd8683d7307701f0a410b1615723bb5fc70
mailsender.api.url=https://api.mailersend.com/v1
mailsender.from.email=info@test-51ndgwvoomqlzqx8.mlsender.net
mailsender.from.name=Millenium Termotanques

# =============================================
# CONFIGURACIÓN DE DEVOLUCIONES (REFUNDS)
# =============================================

# Límites para devoluciones
refund.max-partial-attempts=3
refund.timeout-hours=72

# Configuración de notificaciones de devoluciones
refund.notification.enabled=true
refund.email.template=refund_processed

# =============================================
# CONFIGURACIÓN DE ITEMS DETALLADOS
# =============================================

# Categorías predefinidas para productos
product.category.termotanques=621102
product.category.repuestos=621103
product.category.instalacion=621104

# Validación de items
validation.items.max-quantity=10
validation.items.min-unit-price=0.01

# =============================================
# CONFIGURACIÓN DE COMPLIANCE MP
# =============================================

# Verificación de cumplimiento
compliance.stores.auto-create=true
compliance.logs.retention-days=30
compliance.transaction.timeout-minutes=30

# =============================================
# CONFIGURACIÓN ADICIONAL DE SPRING
# =============================================
spring.application.name=card-payment-sample-java
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

# Configuración de conexiones HTTP
spring.http.log-request-details=true

# Configuración de templates
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# =============================================
# CONFIGURACIÓN DE SEGURIDAD (BÁSICA)
# =============================================

# Headers de seguridad
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true

# CORS configuration
cors.allowed.origins=https://integracionmercado.onrender.com,http://localhost:3000
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed.headers=*
cors.allow.credentials=true
